<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Burn Peak - Revolutionary Weight Loss Solution</title>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body, html {
      background-color: #000000 !important;
      font-family: 'Roboto', sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
    }
    
    .esconder {
    display: none;
  }
  
    .header {
      padding: 15px 20px;
      background: #000;
    }
    
    .header-content {
      display: flex;
      align-items: center;
      gap: 20px;
    }
    
    .menu-icon {
      color: rgba(255,255,255,.85);
      font-size: 25px;
      cursor: pointer;
    }
    
    .logo img {
      width: 150px;
      height: auto;
    }
    
    .video-container {
      width: 100%;
      padding: 0;
      margin: 0;
      position: relative;
      z-index: 1;
    }
    
    .video-wrapper {
      width: 100%;
      aspect-ratio: 16/9;
      margin: 0;
    }

    /* Garante que o VSL não fique fixo ao topo ao rolar */
    vturb-smartplayer {
      position: static !important;
      top: auto !important;
      left: auto !important;
      right: auto !important;
      bottom: auto !important;
      display: block;
      width: 100%;
      height: 100%;
    }
    .vturb-sticky, .vturb-player-sticky, .vtb-sticky, [data-sticky="true"] {
      position: static !important;
      top: auto !important;
    }
    
    .embed-section {
      width: 100%;
      margin: 0;
      padding: 0;
      background: #000;
      position: relative;
      z-index: 0;
    }

    #delayed-embed {
      opacity: 0;
      transition: opacity 0.6s ease;
      pointer-events: none;
    }

    #delayed-embed.visible {
      opacity: 1;
      pointer-events: auto;
    }
    
    .embed-frame {
      width: 100%;
      height: 100vh; /* altura inicial */
      min-height: 100vh;
      border: 0;
      display: block;
      overflow: auto; /* reativa scroll interno para garantir alcance do final */
      -webkit-overflow-scrolling: touch; /* suaviza no iOS */
    }

    @supports (height: 100dvh) {
      .embed-frame { height: 100dvh; min-height: 100dvh; }
    }

    .spacer-section {
      width: 100%;
      height: 240px;
      background: transparent;
    }

    @media screen and (max-width: 480px) {
      .spacer-section { height: 140px; }
    }
    
    @media screen and (max-width: 480px) {
      .header {
        padding: 15px;
      }
      
      .menu-icon {
        font-size: 20px;
      }
      
      .logo img {
        width: 110px;
      }
      .video-container {
        margin-bottom: 28px;
  }
}
</style>
</head>
<body>
  <!-- Header com logo -->
  <div class="header">
    <div class="header-content">
      <div class="menu-icon">
        <svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="bars" style="height: 25px; width: 25px;" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">
          <path fill="currentColor" d="M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"></path>
        </svg>
      </div>
      <div class="logo">
        <img src="logo/cXsgPM2961738 (1).jpg" alt="Burn Peak Logo">
  </div>
</div>
  </div>
  
  <!-- Player VTurb -->
  <div class="video-container">
    <div class="video-wrapper">
      <vturb-smartplayer id="ab-68fd0fed43da3f9415a465d9" style="display: block; margin: 0; width: 100%; height: 100%;"></vturb-smartplayer>
      <script type="text/javascript">
        var s = document.createElement("script");
        s.src = "https://scripts.converteai.net/9afd1484-cb7c-43b2-aa60-a616e8109945/ab-test/68fd0fed43da3f9415a465d9/player.js";
        s.async = !0;
        document.head.appendChild(s);
      </script>

      <!-- Script de Delay VTurb -->
      <script src="js/kzjNWS6610426.js" charset="utf-8" id="vturb-delay-script"></script>
    </div>
  </div>
  
  <!-- Espaçador dedicado entre VSL e iframe -->
  <div id="delayed-embed" style="display: none;">
    <section class="spacer-section"></section>

    <!-- Seção incorporada via iframe -->
    <section class="embed-section">
      <iframe
        class="embed-frame"
        id="embed-site"
        data-src="https://burnpeak-landing-page.vercel.app/"
        title="BurnPeak Landing Embedded"
        loading="lazy"
        fetchpriority="low"
        allowfullscreen
        referrerpolicy="no-referrer-when-downgrade"
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-popups-to-escape-sandbox allow-top-navigation-by-user-activation"
        allow="clipboard-write; fullscreen; accelerometer; gyroscope; picture-in-picture">
      </iframe>
    </section>
  </div>
  
  <script>
    (function() {
      var IFRAME_ORIGIN = 'https://burnpeak-landing-page.vercel.app';
      var iframe = document.getElementById('embed-site');
      var lastHeight = 0;
      var lastApplyTs = 0;
      var APPLY_MIN_INTERVAL_MS = 200;
      var awaitingHeight = false;
      var hasHeight = false;
      var requestIntervalId = null;

      function setHeight(h) {
        if (!iframe) return;
        var numeric = Number(h);
        if (!isFinite(numeric)) return;
        var height = Math.max(300, Math.min(100000, Math.floor(numeric)));
        if (height === lastHeight) return;
        var now = Date.now();
        if (now - lastApplyTs < APPLY_MIN_INTERVAL_MS) return;
        lastApplyTs = now;
        lastHeight = height;
        iframe.style.height = height + 'px';
      }

      function requestHeight() {
        if (!iframe) return false;
        if (!iframe.src) return false;
        var targetWindow;
        try { targetWindow = iframe.contentWindow; } catch (_) { return false; }
        if (!targetWindow) return false;
        awaitingHeight = true;
        try {
          targetWindow.postMessage({ type: 'requestEmbedHeight' }, IFRAME_ORIGIN);
          return true;
        } catch (_) {
          awaitingHeight = false;
          return false;
        }
      }

      function schedulePolling() {
        if (requestIntervalId) return;
        requestIntervalId = setInterval(function() {
          if (!awaitingHeight) requestHeight();
        }, 10000);
      }

      function handleMessage(event) {
        if (!event || !event.data) return;
        if (event.origin !== IFRAME_ORIGIN) return;
        var data = event.data;
        if (typeof data === 'object' && data.type === 'embedHeight') {
          if (!awaitingHeight && hasHeight) return;
          awaitingHeight = false;
          hasHeight = true;
          setHeight(data.height);
          return;
        }
        if (typeof data === 'object' && data.type === 'openInNewTab' && data.url) {
          try { window.open(String(data.url), '_blank', 'noopener'); } catch (e) {}
          return;
        }
      }

      window.addEventListener('message', handleMessage);

      window.addEventListener('resize', function() {
        setTimeout(function() {
          awaitingHeight = false;
          requestHeight();
        }, 200);
      });

      window.__burnpeakEmbed = window.__burnpeakEmbed || {};
      window.__burnpeakEmbed.requestHeight = requestHeight;
      window.__burnpeakEmbed.scheduleHeightPolling = schedulePolling;

      function onIframeLoad() {
        awaitingHeight = false;
        hasHeight = false;
        requestHeight();
        schedulePolling();
      }

      if (iframe) {
        iframe.addEventListener('load', onIframeLoad);
        if (iframe.src && iframe.complete) {
          onIframeLoad();
        }
      }
    })();
  </script>

  <!-- Delay por tempo ATIVO (20 min) para exibir o iframe/spacer -->
  <script>
    (function () {
      var KEY_MS = 'bp_active_ms';
      var KEY_SHOWN = 'bp_iframe_shown';
      var TARGET_MS = 20 * 60 * 1000;
      var TICK_MS = 1000;
      var WRITE_THROTTLE_MS = 5000;
      var container = document.getElementById('delayed-embed');
      if (!container) return;

      function triggerHeightSync() {
        var api = window.__burnpeakEmbed;
        if (!api) return;
        if (typeof api.scheduleHeightPolling === 'function') {
          api.scheduleHeightPolling();
        }
        if (typeof api.requestHeight === 'function') {
          setTimeout(function() {
            api.requestHeight();
          }, 400);
          setTimeout(function() {
            var latestApi = window.__burnpeakEmbed;
            if (latestApi && typeof latestApi.requestHeight === 'function') {
              latestApi.requestHeight();
            }
          }, 1200);
        }
      }

      function show() {
        container.style.display = 'block';
        try {
          requestAnimationFrame(function() {
            container.classList.add('visible');
          });
        } catch (e) {
          container.classList.add('visible');
        }
        try { localStorage.setItem(KEY_SHOWN, '1'); } catch (e) {}
        // Carrega o iframe somente agora
        try {
          var iframe = document.getElementById('embed-site');
          if (iframe && !iframe.src) {
            var url = iframe.getAttribute('data-src');
            if (url) iframe.src = url;
          }
        } catch (e) {}
        triggerHeightSync();
      }

      try {
        if (localStorage.getItem(KEY_SHOWN) === '1') {
          show();
          return;
        }
      } catch (e) {}

      var acc = 0;
      try { acc = parseInt(localStorage.getItem(KEY_MS) || '0', 10) || 0; } catch (e) { acc = 0; }
      var last = Date.now();
      var lastWrite = 0;

      function tick() {
        var now = Date.now();
        if (document.visibilityState === 'visible') {
          acc += (now - last);
          if (acc >= TARGET_MS) {
            show();
            clearInterval(timer);
            document.removeEventListener('visibilitychange', onVis);
          }
          if (now - lastWrite >= WRITE_THROTTLE_MS) {
            try { localStorage.setItem(KEY_MS, String(acc)); } catch (e) {}
            lastWrite = now;
          }
        }
        last = now;
      }

      function onVis() { last = Date.now(); }

      var timer = setInterval(tick, TICK_MS);
      document.addEventListener('visibilitychange', onVis);
    })();
  </script>

  
</body>
</html>
